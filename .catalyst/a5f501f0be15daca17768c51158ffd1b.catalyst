{"title":"D. Program","contestId":"1473","problemIndex":"D","timeLimit":"2 seconds","memLimit":"256 megabytes","inputFormat":"standard input","outputFormat":"standard output","problemHtml":"<p>You are given a program that consists of $$$n$$$ instructions. Initially a single variable $$$x$$$ is assigned to $$$0$$$. Afterwards, the instructions are of two types: </p><ul> <li> increase $$$x$$$ by $$$1$$$; </li><li> decrease $$$x$$$ by $$$1$$$. </li></ul><p></p><p>You are given $$$m$$$ queries of the following format: </p><ul> <li> query $$$l$$$ $$$r$$$&#xA0;&#x2014; how many distinct values is $$$x$$$ assigned to if all the instructions between the $$$l$$$-th one and the $$$r$$$-th one inclusive are ignored and the rest are executed without changing the order? </li></ul><p></p>","inSpecsHtml":"<div class=\"section-title\">Input</div><p>The first line contains a single integer $$$t$$$ ($$$1 \\le t \\le 1000$$$)&#xA0;&#x2014; the number of testcases.</p><p>Then the description of $$$t$$$ testcases follows.</p><p>The first line of each testcase contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\le n, m \\le 2 \\cdot 10^5$$$)&#xA0;&#x2014; the number of instructions in the program and the number of queries.</p><p>The second line of each testcase contains a program&#xA0;&#x2014; a string of $$$n$$$ characters: each character is either &apos;<span class=\"tex-font-style-tt\">+</span>&apos; or &apos;<span class=\"tex-font-style-tt\">-</span>&apos;&#xA0;&#x2014; increment and decrement instruction, respectively.</p><p>Each of the next $$$m$$$ lines contains two integers $$$l$$$ and $$$r$$$ ($$$1 \\le l \\le r \\le n$$$)&#xA0;&#x2014; the description of the query.</p><p>The sum of $$$n$$$ over all testcases doesn&apos;t exceed $$$2 \\cdot 10^5$$$. The sum of $$$m$$$ over all testcases doesn&apos;t exceed $$$2 \\cdot 10^5$$$. </p>","outSpecsHtml":"<div class=\"section-title\">Output</div><p>For each testcase print $$$m$$$ integers&#xA0;&#x2014; for each query $$$l$$$, $$$r$$$ print the number of distinct values variable $$$x$$$ is assigned to if all the instructions between the $$$l$$$-th one and the $$$r$$$-th one inclusive are ignored and the rest are executed without changing the order.</p>","noteHtml":"<div class=\"section-title\">Note</div><p>The instructions that remain for each query of the first testcase are: </p><ol> <li> empty program&#xA0;&#x2014; $$$x$$$ was only equal to $$$0$$$; </li><li> &quot;<span class=\"tex-font-style-tt\">-</span>&quot;&#xA0;&#x2014; $$$x$$$ had values $$$0$$$ and $$$-1$$$; </li><li> &quot;<span class=\"tex-font-style-tt\">---+</span>&quot;&#xA0;&#x2014; $$$x$$$ had values $$$0$$$, $$$-1$$$, $$$-2$$$, $$$-3$$$, $$$-2$$$&#xA0;&#x2014; there are $$$4$$$ distinct values among them; </li><li> &quot;<span class=\"tex-font-style-tt\">+--+--+</span>&quot;&#xA0;&#x2014; the distinct values are $$$1$$$, $$$0$$$, $$$-1$$$, $$$-2$$$. </li></ol><p></p>","sampleTestcases":[{"id":1610924681232,"input":"2\n8 4\n-+--+--+\n1 8\n2 8\n2 5\n1 1\n4 10\n+-++\n1 1\n1 2\n2 2\n1 3\n2 3\n3 3\n1 4\n2 4\n3 4\n4 4","output":"1\n2\n4\n4\n3\n3\n4\n2\n3\n2\n1\n2\n2\n2\n"}],"submitUrl":"https://codeforces.com/problemset/submit","language":"c++"}